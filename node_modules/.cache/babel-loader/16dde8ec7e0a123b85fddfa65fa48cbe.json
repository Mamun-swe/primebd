{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/MERN/prime-bd/client/src/pages/auth/Login.js\";\nimport React, { useState } from 'react';\nimport '../../styles/auth/style.scss';\nimport { useForm } from 'react-hook-form';\nimport { Link, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport api from '../../utils/url';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Logo from '../../assets/static/logo.png';\ntoast.configure();\n\nconst Login = () => {\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [isLoading, setLoading] = useState(false); // Check Token\n\n  const checkToken = token => {\n    console.log(token.split(' '));\n  };\n\n  const onSubmit = async data => {\n    // localStorage.setItem('token', data.email)\n    try {\n      setLoading(true);\n      const response = await Axios.post(`${api}login`, data); // console.log(response)\n\n      if (response.status === 200) {\n        checkToken(response.data.token);\n      }\n    } catch (error) {\n      if (error) {\n        setLoading(false);\n        toast.warn(error.response.message);\n        console.log(err);\n      }\n    } // if (data.email === 'admin@gmail.com') {\n    //     history.push('/admin')\n    // } else {\n    //     history.push('/home')\n    // }\n\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-center flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center bg-white border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    className: \"img-fluid\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, \"Login Account\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, errors.email && errors.email.message ? /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 37\n    }\n  }, errors.email && errors.email.message) : /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 37\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    className: \"form-control shadow-none\",\n    placeholder: \"Your e-mail\",\n    ref: register({\n      required: \"E-mail is required\",\n      pattern: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: \"Invalid email address\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 29\n    }\n  }, errors.password && errors.password.message ? /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 37\n    }\n  }, errors.password && errors.password.message) : /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 37\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control shadow-none\",\n    placeholder: \"*****\",\n    ref: register({\n      required: \"Please enter password\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-info shadow-none text-white btn-block\",\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 46\n    }\n  }, \"Logging...\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 72\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 33\n    }\n  }, \"Have no account ? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 54\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, \"Forgot password? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 53\n    }\n  }, \"Reset\"))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/auth/Login.js"],"names":["React","useState","useForm","Link","useHistory","Axios","api","toast","Logo","configure","Login","history","register","handleSubmit","errors","isLoading","setLoading","checkToken","token","console","log","split","onSubmit","data","response","post","status","error","warn","message","err","email","required","pattern","value","password"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport '../../styles/auth/style.scss'\nimport { useForm } from 'react-hook-form'\nimport { Link, useHistory } from 'react-router-dom'\nimport Axios from 'axios'\nimport api from '../../utils/url'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport Logo from '../../assets/static/logo.png'\n\ntoast.configure()\nconst Login = () => {\n    const history = useHistory()\n    const { register, handleSubmit, errors } = useForm()\n    const [isLoading, setLoading] = useState(false)\n\n    // Check Token\n    const checkToken = (token) => {\n        console.log(token.split(' '));\n    }\n\n    const onSubmit = async (data) => {\n        // localStorage.setItem('token', data.email)\n\n        try {\n            setLoading(true)\n            const response = await Axios.post(`${api}login`, data)\n            // console.log(response)\n            if(response.status === 200){\n                checkToken(response.data.token)\n            }\n        } catch (error) {\n            if(error){\n                setLoading(false)\n                toast.warn(error.response.message)\n                console.log(err);\n            }\n        }\n\n        // if (data.email === 'admin@gmail.com') {\n        //     history.push('/admin')\n        // } else {\n        //     history.push('/home')\n        // }\n\n    }\n\n    return (\n        <div className=\"auth\">\n            <div className=\"flex-center flex-column\">\n                <div className=\"card border-0\">\n                    <div className=\"card-header text-center bg-white border-0\">\n                        <img src={Logo} className=\"img-fluid\" alt=\"...\" />\n                        <h4>Login Account</h4>\n                    </div>\n                    <div className=\"card-body\">\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            {/* Email */}\n                            <div className=\"form-group mb-3\">\n                                {errors.email && errors.email.message ? (\n                                    <small className=\"text-danger\">{errors.email && errors.email.message}</small>\n                                ) : <small>E-mail</small>\n                                }\n\n                                <input\n                                    type=\"text\"\n                                    name=\"email\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"Your e-mail\"\n                                    ref={register({\n                                        required: \"E-mail is required\",\n                                        pattern: {\n                                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                            message: \"Invalid email address\"\n                                        }\n                                    })}\n                                />\n                            </div>\n\n                            {/* Password */}\n                            <div className=\"form-group mb-3\">\n                                {errors.password && errors.password.message ? (\n                                    <small className=\"text-danger\">{errors.password && errors.password.message}</small>\n                                ) : <small>Password</small>\n                                }\n\n                                <input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"*****\"\n                                    ref={register({\n                                        required: \"Please enter password\",\n                                    })}\n                                />\n                            </div>\n\n                            <button type=\"submit\" className=\"btn btn-info shadow-none text-white btn-block\" disabled={isLoading}>\n                                {isLoading ? <span>Logging...</span> : <span>Login</span>}\n                            </button>\n                            <br />\n\n                            <div className=\"text-right\">\n                                <p>Have no account ? <Link to=\"/register\">Register</Link></p>\n                                <p>Forgot password? <Link to=\"/reset\">Reset</Link></p>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}