{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/chat/Messages.js\";\nimport React, { useEffect, useState } from 'react';\nimport '../../../styles/user/chat/style.scss';\nimport { Link, NavLink } from 'react-router-dom';\nimport axios from 'axios';\nimport api from '../../../utils/url';\nimport Navbar from '../../../components/UserNavbar/Index';\nimport LoadingComponent from '../../../components/Loading/Index';\nimport FourOFourComponent from '../../../components/FourOFour/Index';\n\nconst Messages = () => {\n  const [isLoading, setLoading] = useState(true);\n  const [messages, setMessages] = useState([]);\n  const id = localStorage.getItem('id');\n  const header = {\n    headers: {\n      Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n    }\n  };\n  useEffect(() => {\n    // Fetch Messages\n    const fetchMessages = async () => {\n      try {\n        const result = await axios.get(`${api}user/users/${id}`, header);\n        setMessages(result.data);\n        setLoading(false);\n      } catch (error) {\n        if (error && error.response.status === 404) {\n          setLoading(false);\n        }\n\n        console.log(error.response);\n      }\n    };\n\n    fetchMessages();\n  }, []); // Slice Name\n\n  const sliceName = name => {\n    return name.slice(0, 1);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(LoadingComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 26\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    title: 'Messages',\n    back: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex links-tab border-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-fill text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"is-Active\",\n    to: \"/home/chat/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, \"Messages\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-fill text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"is-Active\",\n    to: \"/home/chat/peoples\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  }, \"Peoples\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"messages-persons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, messages && messages.length > 0 ? messages.map((message, i) => /*#__PURE__*/React.createElement(Link, {\n    to: `/home/chat/messages/${message.name}/${message.id}`,\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-circle rounded-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-center flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-uppercase mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 53\n    }\n  }, sliceName(message.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pl-2 person\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-capitalize mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 49\n    }\n  }, message.name), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 49\n    }\n  }, \"1 new message\")))))) : /*#__PURE__*/React.createElement(FourOFourComponent, {\n    messages: 'No message found.',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 31\n    }\n  }))));\n};\n\nexport default Messages;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/chat/Messages.js"],"names":["React","useEffect","useState","Link","NavLink","axios","api","Navbar","LoadingComponent","FourOFourComponent","Messages","isLoading","setLoading","messages","setMessages","id","localStorage","getItem","header","headers","Authorization","fetchMessages","result","get","data","error","response","status","console","log","sliceName","name","slice","length","map","message","i"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../../styles/user/chat/style.scss'\nimport { Link, NavLink } from 'react-router-dom'\nimport axios from 'axios'\nimport api from '../../../utils/url'\n\nimport Navbar from '../../../components/UserNavbar/Index'\nimport LoadingComponent from '../../../components/Loading/Index'\nimport FourOFourComponent from '../../../components/FourOFour/Index'\n\nconst Messages = () => {\n    const [isLoading, setLoading] = useState(true)\n    const [messages, setMessages] = useState([])\n    const id = localStorage.getItem('id')\n\n    const header = {\n        headers:\n        {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n    }\n\n\n    useEffect(() => {\n        // Fetch Messages\n        const fetchMessages = async () => {\n            try {\n                const result = await axios.get(`${api}user/users/${id}`, header)\n                setMessages(result.data)\n                setLoading(false)\n            } catch (error) {\n                if (error && error.response.status === 404) {\n                    setLoading(false)\n                }\n                console.log(error.response)\n            }\n        }\n        fetchMessages()\n    }, [])\n\n    // Slice Name\n    const sliceName = name => {\n        return name.slice(0, 1)\n    }\n\n    return (\n        <div className=\"messages\">\n            {isLoading ? <LoadingComponent /> :\n                <div>\n                    <Navbar title={'Messages'} back={true} />\n                    <div className=\"d-flex links-tab border-bottom\">\n                        <div className=\"flex-fill text-center\">\n                            <NavLink exact activeClassName=\"is-Active\" to=\"/home/chat/\">Messages</NavLink>\n                        </div>\n                        <div className=\"flex-fill text-center\">\n                            <NavLink exact activeClassName=\"is-Active\" to=\"/home/chat/peoples\">Peoples</NavLink>\n                        </div>\n                    </div>\n\n\n                    {/* Person who sent message */}\n                    <div className=\"messages-persons\">\n\n                        {messages && messages.length > 0 ?\n                            messages.map((message, i) =>\n                                <Link to={`/home/chat/messages/${message.name}/${message.id}`} key={i}>\n                                    <div className=\"message\">\n                                        <div className=\"d-flex\">\n                                            <div className=\"name-circle rounded-circle\">\n                                                <div className=\"flex-center flex-column\">\n                                                    <h5 className=\"text-uppercase mb-0\">{sliceName(message.name)}</h5>\n                                                </div>\n                                            </div>\n                                            <div className=\"pl-2 person\">\n                                                <p className=\"text-capitalize mb-0\">{message.name}</p>\n                                                <small>1 new message</small>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Link>\n                            )\n                            : <FourOFourComponent messages={'No message found.'} />}\n\n                    </div>\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default Messages;"]},"metadata":{},"sourceType":"module"}