{"ast":null,"code":"import _regeneratorRuntime from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import url from'../../../utils/url';import{useParams}from'react-router-dom';import Navbar from'../../../components/UserNavbar/Index';import VideoList from'../../../components/VideoList/Index';import LoadingComponent from'../../../components/Loading/Index';import FourOFourComponent from'../../../components/FourOFour/Index';var Show=function Show(){var _useParams=useParams(),id=_useParams.id,name=_useParams.name;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setVideos=_useState4[1];var header={headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}};useEffect(function(){// Fetch category videos\nvar fetchVideos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios.get(\"\".concat(url,\"user/category/\").concat(id,\"/videos\"),header);case 4:response=_context.sent;setVideos(response.data.videos);setLoading(false);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);if(_context.t0){setLoading(false);console.log(_context.t0);}case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchVideos(){return _ref.apply(this,arguments);};}();fetchVideos();},[id,name]);// Slice name\nvar sliceName=function sliceName(name){if(name){return name.slice(0,15);}return false;};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navbar,{title:sliceName(name),back:true}),isLoading?/*#__PURE__*/React.createElement(LoadingComponent,null):/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},videos.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 px-1\"},/*#__PURE__*/React.createElement(VideoList,{videos:videos})):/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 p-4\"},/*#__PURE__*/React.createElement(FourOFourComponent,null)))));};export default Show;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/categories/Show.js"],"names":["React","useEffect","useState","axios","url","useParams","Navbar","VideoList","LoadingComponent","FourOFourComponent","Show","id","name","isLoading","setLoading","videos","setVideos","header","headers","Authorization","localStorage","getItem","fetchVideos","get","response","data","console","log","sliceName","slice","length"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,mCAA7B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,qCAA/B,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,gBACML,SAAS,EADf,CACPM,EADO,YACPA,EADO,CACHC,IADG,YACHA,IADG,eAEiBV,QAAQ,CAAC,KAAD,CAFzB,wCAERW,SAFQ,eAEGC,UAFH,8BAGaZ,QAAQ,CAAC,EAAD,CAHrB,yCAGRa,MAHQ,eAGAC,SAHA,eAKf,GAAMC,CAAAA,MAAM,CAAG,CACXC,OAAO,CACP,CACIC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAD/B,CAFW,CAAf,CAOApB,SAAS,CAAC,UAAM,CACZ;AACA,GAAMqB,CAAAA,WAAW,0FAAG,gKAEZR,UAAU,CAAC,IAAD,CAAV,CAFY,sBAGWX,CAAAA,KAAK,CAACoB,GAAN,WAAanB,GAAb,0BAAiCO,EAAjC,YAA8CM,MAA9C,CAHX,QAGNO,QAHM,eAIZR,SAAS,CAACQ,QAAQ,CAACC,IAAT,CAAcV,MAAf,CAAT,CACAD,UAAU,CAAC,KAAD,CAAV,CALY,+EAOZ,eAAW,CACPA,UAAU,CAAC,KAAD,CAAV,CACAY,OAAO,CAACC,GAAR,cACH,CAVW,oEAAH,kBAAXL,CAAAA,WAAW,0CAAjB,CAcAA,WAAW,GACd,CAjBQ,CAiBN,CAACX,EAAD,CAAKC,IAAL,CAjBM,CAAT,CAmBA;AACA,GAAMgB,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAhB,IAAI,CAAI,CACtB,GAAIA,IAAJ,CAAU,CACN,MAAOA,CAAAA,IAAI,CAACiB,KAAL,CAAW,CAAX,CAAc,EAAd,CAAP,CACH,CACD,MAAO,MAAP,CACH,CALD,CAOA,mBACI,4CACI,oBAAC,MAAD,EAAQ,KAAK,CAAED,SAAS,CAAChB,IAAD,CAAxB,CAAgC,IAAI,CAAE,IAAtC,EADJ,CAGKC,SAAS,cAAG,oBAAC,gBAAD,MAAH,cACN,2BAAK,SAAS,CAAC,WAAf,eACI,2BAAK,SAAS,CAAC,KAAf,EACKE,MAAM,CAACe,MAAP,CAAgB,CAAhB,cACG,2BAAM,SAAS,CAAC,aAAhB,eACI,oBAAC,SAAD,EAAW,MAAM,CAAEf,MAAnB,EADJ,CADH,cAKG,2BAAK,SAAS,CAAC,YAAf,eACI,oBAAC,kBAAD,MADJ,CANR,CADJ,CAJR,CADJ,CAqBH,CA5DD,CA8DA,cAAeL,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport url from '../../../utils/url'\nimport { useParams } from 'react-router-dom'\n\nimport Navbar from '../../../components/UserNavbar/Index'\nimport VideoList from '../../../components/VideoList/Index'\nimport LoadingComponent from '../../../components/Loading/Index'\nimport FourOFourComponent from '../../../components/FourOFour/Index'\n\nconst Show = () => {\n    const { id, name } = useParams()\n    const [isLoading, setLoading] = useState(false)\n    const [videos, setVideos] = useState([])\n\n    const header = {\n        headers:\n        {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n    }\n\n    useEffect(() => {\n        // Fetch category videos\n        const fetchVideos = async () => {\n            try {\n                setLoading(true)\n                const response = await axios.get(`${url}user/category/${id}/videos`, header)\n                setVideos(response.data.videos)\n                setLoading(false)\n            } catch (error) {\n                if (error) {\n                    setLoading(false)\n                    console.log(error)\n                }\n            }\n        }\n\n        fetchVideos()\n    }, [id, name])\n\n    // Slice name\n    const sliceName = name => {\n        if (name) {\n            return name.slice(0, 15)\n        }\n        return false\n    }\n\n    return (\n        <div>\n            <Navbar title={sliceName(name)} back={true} />\n\n            {isLoading ? <LoadingComponent /> :\n                <div className=\"container\">\n                    <div className=\"row\">\n                        {videos.length > 0 ?\n                            < div className=\"col-12 px-1\">\n                                <VideoList videos={videos} />\n                            </div>\n                            :\n                            <div className=\"col-12 p-4\">\n                                <FourOFourComponent />\n                            </div>\n                        }\n                    </div>\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default Show;"]},"metadata":{},"sourceType":"module"}