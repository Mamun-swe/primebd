{"ast":null,"code":"import _regeneratorRuntime from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import'../../styles/auth/style.scss';import{useForm}from\"react-hook-form\";import Logo from'../../assets/static/logo.png';import{Link,useHistory}from'react-router-dom';var Reset=function Reset(){var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;// Check Token\nvar checkToken=function checkToken(token){localStorage.setItem('token',token);var role=token.split('.')[0];if(role==='admin'){return history.push('/admin');}if(role==='user'){return history.push('/home');}};// Check if logged in \nif(localStorage.getItem('token')){checkToken(localStorage.getItem('token'));}var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(data);case 1:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"auth\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-center flex-column\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card border-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-center bg-white border-0\"},/*#__PURE__*/React.createElement(\"img\",{src:Logo,className:\"img-fluid\",alt:\"...\"}),/*#__PURE__*/React.createElement(\"h4\",null,\"Change Password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},errors.email&&errors.email.message?/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},errors.email&&errors.email.message):/*#__PURE__*/React.createElement(\"small\",null,\"E-mail\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"email\",className:\"form-control shadow-none\",placeholder:\"Your e-mail\",ref:register({required:\"E-mail is required\",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:\"Invalid email address\"}})})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},errors.password&&errors.password.message?/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},errors.password&&errors.password.message):/*#__PURE__*/React.createElement(\"small\",null,\"New password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",className:\"form-control shadow-none\",placeholder:\"*****\",ref:register({required:\"New password is required.\"})})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-info shadow-none text-white btn-block\"},\"Submit\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right\"},/*#__PURE__*/React.createElement(\"p\",null,\"Go to ? \",/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Login\")),/*#__PURE__*/React.createElement(\"p\",null,\"Have no account ? \",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register\"))))))));};export default Reset;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/auth/Reset.js"],"names":["React","useForm","Logo","Link","useHistory","Reset","history","register","handleSubmit","errors","checkToken","token","localStorage","setItem","role","split","push","getItem","onSubmit","data","console","log","email","message","required","pattern","value","password"],"mappings":"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","sourcesContent":["import React from 'react'\nimport '../../styles/auth/style.scss'\nimport { useForm } from \"react-hook-form\"\nimport Logo from '../../assets/static/logo.png'\nimport { Link, useHistory } from 'react-router-dom'\n\nconst Reset = () => {\n    const history = useHistory()\n    const { register, handleSubmit, errors } = useForm()\n\n    // Check Token\n    const checkToken = (token) => {\n        localStorage.setItem('token', token)\n        const role = token.split('.')[0]\n        if (role === 'admin') {\n            return history.push('/admin')\n        }\n\n        if (role === 'user') {\n            return history.push('/home')\n        }\n    }\n\n    // Check if logged in \n    if (localStorage.getItem('token')) {\n        checkToken(localStorage.getItem('token'))\n    }\n\n    const onSubmit = async (data) => {\n        console.log(data)\n    }\n\n    return (\n        <div className=\"auth\">\n            <div className=\"flex-center flex-column\">\n                <div className=\"card border-0\">\n                    <div className=\"card-header text-center bg-white border-0\">\n                        <img src={Logo} className=\"img-fluid\" alt=\"...\" />\n                        <h4>Change Password</h4>\n                    </div>\n                    <div className=\"card-body\">\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            {/* Email */}\n                            <div className=\"form-group mb-3\">\n                                {errors.email && errors.email.message ? (\n                                    <small className=\"text-danger\">{errors.email && errors.email.message}</small>\n                                ) : <small>E-mail</small>\n                                }\n\n                                <input\n                                    type=\"text\"\n                                    name=\"email\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"Your e-mail\"\n                                    ref={register({\n                                        required: \"E-mail is required\",\n                                        pattern: {\n                                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                            message: \"Invalid email address\"\n                                        }\n                                    })}\n                                />\n                            </div>\n\n                            {/* New Password */}\n                            <div className=\"form-group mb-3\">\n                                {errors.password && errors.password.message ? (\n                                    <small className=\"text-danger\">{errors.password && errors.password.message}</small>\n                                ) : <small>New password</small>\n                                }\n\n                                <input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"*****\"\n                                    ref={register({\n                                        required: \"New password is required.\",\n                                    })}\n                                />\n                            </div>\n\n                            <button type=\"submit\" className=\"btn btn-info shadow-none text-white btn-block\">Submit</button>\n                            <br />\n\n                            <div className=\"text-right\">\n                                <p>Go to ? <Link to=\"/\">Login</Link></p>\n                                <p>Have no account ? <Link to=\"/register\">Register</Link></p>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Reset;"]},"metadata":{},"sourceType":"module"}