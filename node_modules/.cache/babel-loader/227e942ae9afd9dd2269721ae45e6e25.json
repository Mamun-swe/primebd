{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/MERN/prime-bd/client/src/pages/admin/Category/Index.js\";\nimport React, { useEffect, useState } from 'react';\nimport '../../../styles/admin/style.scss';\nimport axios from 'axios';\nimport api from '../../../utils/url';\nimport { Link } from 'react-router-dom';\nimport Icon from 'react-icons-kit';\nimport { ic_add, ic_mode_edit } from 'react-icons-kit/md';\nimport Navbar from '../../../components/AdminNavbar/Index';\nimport LoadingComponent from '../../../components/Loading/Index';\nimport FourOFourComponent from '../../../components/FourOFour/Index';\n\nconst Index = () => {\n  const [isLoading, setLoading] = useState(true);\n  const [categories, setCategories] = useState([]);\n  useEffect(() => {\n    // Fecth Categories\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(`${api}admin/category`);\n        setCategories(response.data);\n        setLoading(false);\n      } catch (error) {\n        if (error) {\n          console.log(error.response);\n          setLoading(false);\n        }\n      }\n    };\n\n    fetchCategories();\n  }, []); // Image onChange\n\n  const imageChangeHandeller = event => {\n    let file = event.target.files[0];\n\n    if (file) {\n      setSelectedFile(file);\n    }\n  };\n\n  const onSubmit = async data => {\n    try {\n      if (!selectedFile) {\n        return setFileErr(true);\n      }\n\n      let formData = new FormData();\n      formData.append('name', data.name);\n      formData.append('image', selectedFile);\n      setLoading(true);\n      const response = await axios.post(`${url}admin/category`, formData);\n\n      if (response.data.status === true) {\n        toast.success(response.data.message);\n        setLoading(false);\n      }\n\n      if (response.data.status === false) {\n        toast.warn(response.data.message);\n        setLoading(false);\n      }\n    } catch (error) {\n      if (error) {\n        console.log(error.response);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category-index\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    back: true,\n    title: 'Categories',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(LoadingComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 30\n    }\n  }) : categories && categories.length > 0 ? categories && categories.map((category, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category d-flex\",\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: category.image,\n    className: \"img-fluid\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pl-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 37\n    }\n  }, category.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/category/${category.id}`,\n    type: \"button\",\n    className: \"btn btn-sm btn-light rounded-circle shadow-none\",\n    style: styles.smBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: ic_mode_edit,\n    size: 18,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 41\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FourOFourComponent, {\n    messages: 'No category found',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/category/create\",\n    type: \"button\",\n    className: \"btn btn-info rounded-circle shadow-none float-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    icon: ic_add,\n    size: 25,\n    style: {\n      color: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Index;\nconst styles = {\n  smBtn: {\n    padding: '5px 7px'\n  }\n};","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/admin/Category/Index.js"],"names":["React","useEffect","useState","axios","api","Link","Icon","ic_add","ic_mode_edit","Navbar","LoadingComponent","FourOFourComponent","Index","isLoading","setLoading","categories","setCategories","fetchCategories","response","get","data","error","console","log","imageChangeHandeller","event","file","target","files","setSelectedFile","onSubmit","selectedFile","setFileErr","formData","FormData","append","name","post","url","status","toast","success","message","warn","length","map","category","i","image","id","styles","smBtn","color","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../../styles/admin/style.scss'\nimport axios from 'axios'\nimport api from '../../../utils/url'\nimport { Link } from 'react-router-dom'\nimport Icon from 'react-icons-kit'\nimport { ic_add, ic_mode_edit } from 'react-icons-kit/md'\n\nimport Navbar from '../../../components/AdminNavbar/Index'\nimport LoadingComponent from '../../../components/Loading/Index'\nimport FourOFourComponent from '../../../components/FourOFour/Index'\n\nconst Index = () => {\n    const [isLoading, setLoading] = useState(true)\n    const [categories, setCategories] = useState([])\n\n    useEffect(() => {\n        // Fecth Categories\n        const fetchCategories = async () => {\n            try {\n                const response = await axios.get(`${api}admin/category`)\n                setCategories(response.data)\n                setLoading(false)\n            } catch (error) {\n                if (error) {\n                    console.log(error.response)\n                    setLoading(false)\n                }\n            }\n        }\n\n        fetchCategories()\n    }, [])\n\n\n    // Image onChange\n    const imageChangeHandeller = event => {\n        let file = event.target.files[0]\n        if (file) {\n            setSelectedFile(file)\n        }\n    }\n\n    const onSubmit = async (data) => {\n        try {\n            if (!selectedFile) {\n                return setFileErr(true)\n            }\n\n            let formData = new FormData()\n            formData.append('name', data.name)\n            formData.append('image', selectedFile)\n\n            setLoading(true)\n            const response = await axios.post(`${url}admin/category`, formData)\n            if (response.data.status === true) {\n                toast.success(response.data.message)\n                setLoading(false)\n            }\n            if (response.data.status === false) {\n                toast.warn(response.data.message)\n                setLoading(false)\n            }\n        } catch (error) {\n            if (error) {\n                console.log(error.response)\n            }\n        }\n    }\n\n\n    return (\n        <div className=\"category-index\">\n            <Navbar back={true} title={'Categories'} />\n\n            {/* Category List */}\n            <div className=\"categories\">\n                {isLoading ? <LoadingComponent /> :\n                    categories && categories.length > 0 ?\n                        categories && categories.map((category, i) =>\n                            <div className=\"category d-flex\" key={i}>\n                                <div>\n                                    <img src={category.image} className=\"img-fluid\" alt=\"...\" />\n                                </div>\n                                <div className=\"pl-2\">\n                                    <p>{category.name}</p>\n                                </div>\n                                <div className=\"ml-auto\">\n                                    <Link\n                                        to={`/admin/category/${category.id}`}\n                                        type=\"button\"\n                                        className=\"btn btn-sm btn-light rounded-circle shadow-none\"\n                                        style={styles.smBtn}\n                                    >\n                                        <Icon icon={ic_mode_edit} size={18} />\n                                    </Link>\n                                </div>\n                            </div>\n                        )\n                        :\n                        <div className=\"col-12 p-4\">\n                            <FourOFourComponent messages={'No category found'} />\n                        </div>\n                }\n            </div>\n\n            {/* Float Button */}\n            <Link\n                to=\"/admin/category/create\"\n                type=\"button\"\n                className=\"btn btn-info rounded-circle shadow-none float-btn\"\n            >\n                <Icon icon={ic_add} size={25} style={{ color: '#fff' }} />\n            </Link>\n        </div>\n    );\n};\n\nexport default Index;\n\nconst styles = {\n    smBtn: {\n        padding: '5px 7px'\n    }\n}"]},"metadata":{},"sourceType":"module"}