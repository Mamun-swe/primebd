{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/MERN/prime-bd/client/src/pages/auth/Register.js\";\nimport React, { useState } from 'react';\nimport '../../styles/auth/style.scss';\nimport { useForm } from 'react-hook-form';\nimport { Link, useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport api from '../../utils/url';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Logo from '../../assets/static/logo.png';\ntoast.configure();\n\nconst Register = () => {\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [isLoading, setLoading] = useState(false); // Check Token\n\n  const checkToken = token => {\n    localStorage.setItem('token', token);\n    const role = token.split('.')[0];\n\n    if (role === 'admin') {\n      return history.push('/admin');\n    }\n\n    if (role === 'user') {\n      return history.push('/home');\n    }\n  }; // Check if logged in \n\n\n  if (localStorage.getItem('token')) {\n    checkToken(localStorage.getItem('token'));\n  }\n\n  const onSubmit = async data => {\n    try {\n      setLoading(true);\n      const response = await Axios.post(`${api}register`, data);\n\n      if (response.data.status === true) {\n        toast.success(response.data.message);\n        setLoading(false);\n        history.push('/');\n      }\n\n      if (response.data.status === false) {\n        toast.warn(response.data.message);\n        setLoading(false);\n      }\n    } catch (error) {\n      if (error) {\n        setLoading(false);\n        toast.warn(error.response.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auth\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-center flex-column\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header text-center bg-white border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    className: \"img-fluid\",\n    alt: \"...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, \"Create Account\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, errors.name && errors.name.message ? /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 37\n    }\n  }, errors.name && errors.name.message) : /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 37\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    className: \"form-control shadow-none\",\n    placeholder: \"Enter username\",\n    ref: register({\n      required: \"Username is required\"\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 29\n    }\n  }, errors.email && errors.email.message ? /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 37\n    }\n  }, errors.email && errors.email.message) : /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 37\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"email\",\n    className: \"form-control shadow-none\",\n    placeholder: \"Your e-mail\",\n    ref: register({\n      required: \"E-mail is required\",\n      pattern: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n        message: \"Invalid email address\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 29\n    }\n  }, errors.password && errors.password.message ? /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 37\n    }\n  }, errors.password && errors.password.message) : /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 37\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control shadow-none\",\n    placeholder: \"*****\",\n    ref: register({\n      required: \"Please enter password\",\n      minLength: {\n        value: 8,\n        message: \"Minimun length 8 character\"\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-info shadow-none text-white btn-block\",\n    disabled: isLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 46\n    }\n  }, \"Submitting...\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 75\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, \"Already have an account ? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 62\n    }\n  }, \"Login\"))))))));\n};\n\nexport default Register;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/auth/Register.js"],"names":["React","useState","useForm","Link","useHistory","Axios","api","toast","Logo","configure","Register","history","register","handleSubmit","errors","isLoading","setLoading","checkToken","token","localStorage","setItem","role","split","push","getItem","onSubmit","data","response","post","status","success","message","warn","error","name","required","email","pattern","value","password","minLength"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport '../../styles/auth/style.scss'\nimport { useForm } from 'react-hook-form'\nimport { Link, useHistory } from 'react-router-dom'\nimport Axios from 'axios'\nimport api from '../../utils/url'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport Logo from '../../assets/static/logo.png'\n\ntoast.configure()\nconst Register = () => {\n    const history = useHistory()\n    const { register, handleSubmit, errors } = useForm()\n    const [isLoading, setLoading] = useState(false)\n\n    // Check Token\n    const checkToken = (token) => {\n        localStorage.setItem('token', token)\n        const role = token.split('.')[0]\n        if (role === 'admin') {\n            return history.push('/admin')\n        }\n\n        if (role === 'user') {\n            return history.push('/home')\n        }\n    }\n\n    // Check if logged in \n    if (localStorage.getItem('token')) {\n        checkToken(localStorage.getItem('token'))\n    }\n\n    const onSubmit = async (data) => {\n        try {\n            setLoading(true)\n            const response = await Axios.post(`${api}register`, data)\n            if (response.data.status === true) {\n                toast.success(response.data.message)\n                setLoading(false)\n                history.push('/')\n            }\n\n            if (response.data.status === false) {\n                toast.warn(response.data.message)\n                setLoading(false)\n            }\n        } catch (error) {\n            if (error) {\n                setLoading(false)\n                toast.warn(error.response.message)\n            }\n        }\n    }\n\n    return (\n        <div className=\"auth\">\n            <div className=\"flex-center flex-column\">\n                <div className=\"card border-0\">\n                    <div className=\"card-header text-center bg-white border-0\">\n                        <img src={Logo} className=\"img-fluid\" alt=\"...\" />\n                        <h4>Create Account</h4>\n                    </div>\n                    <div className=\"card-body\">\n                        <form onSubmit={handleSubmit(onSubmit)}>\n                            {/* Name */}\n                            <div className=\"form-group mb-3\">\n                                {errors.name && errors.name.message ? (\n                                    <small className=\"text-danger\">{errors.name && errors.name.message}</small>\n                                ) : <small>Username</small>\n                                }\n\n                                <input\n                                    type=\"text\"\n                                    name=\"name\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"Enter username\"\n                                    ref={register({\n                                        required: \"Username is required\"\n                                    })}\n                                />\n                            </div>\n\n                            {/* Email */}\n                            <div className=\"form-group mb-3\">\n                                {errors.email && errors.email.message ? (\n                                    <small className=\"text-danger\">{errors.email && errors.email.message}</small>\n                                ) : <small>E-mail</small>\n                                }\n\n                                <input\n                                    type=\"text\"\n                                    name=\"email\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"Your e-mail\"\n                                    ref={register({\n                                        required: \"E-mail is required\",\n                                        pattern: {\n                                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                                            message: \"Invalid email address\"\n                                        }\n                                    })}\n                                />\n                            </div>\n\n                            {/* Password */}\n                            <div className=\"form-group mb-3\">\n                                {errors.password && errors.password.message ? (\n                                    <small className=\"text-danger\">{errors.password && errors.password.message}</small>\n                                ) : <small>Password</small>\n                                }\n\n                                <input\n                                    type=\"password\"\n                                    name=\"password\"\n                                    className=\"form-control shadow-none\"\n                                    placeholder=\"*****\"\n                                    ref={register({\n                                        required: \"Please enter password\",\n                                        minLength: {\n                                            value: 8,\n                                            message: \"Minimun length 8 character\"\n                                        }\n                                    })}\n                                />\n                            </div>\n\n                            <button type=\"submit\" className=\"btn btn-info shadow-none text-white btn-block\" disabled={isLoading}>\n                                {isLoading ? <span>Submitting...</span> : <span>Submit</span>}\n                            </button>\n                            <br />\n\n                            <div className=\"text-right\">\n                                <p>Already have an account ? <Link to=\"/\">Login</Link></p>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}