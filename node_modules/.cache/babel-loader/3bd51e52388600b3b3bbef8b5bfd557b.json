{"ast":null,"code":"var _jsxFileName = \"/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/player/Index.js\";\nimport React, { useEffect, useState } from 'react';\nimport '../../../styles/user/player/style.scss';\nimport ReactPlayer from 'react-player';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport api from '../../../utils/url';\nimport Icon from 'react-icons-kit';\nimport { ic_favorite_border } from 'react-icons-kit/md';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Navbar from '../../../components/UserNavbar/Index';\nimport VideoList from '../../../components/VideoList/Index';\nimport LoadingComponent from '../../../components/Loading/Index';\nimport FourOFourComponent from '../../../components/FourOFour/Index';\nimport LoadingGif from '../../../assets/static/loading.gif';\ntoast.configure();\n\nconst Index = () => {\n  const {\n    id,\n    name\n  } = useParams();\n  const [show, setShow] = useState(false);\n  const [videoURL, setVideoURL] = useState(null);\n  const [isLoading, setLoading] = useState(true);\n  const [videos, setVideos] = useState([]);\n  useEffect(() => {\n    // Show Video\n    const showVideo = async () => {\n      try {\n        const response = await axios.get(`${api}user/video/${id}/show`, header);\n        setVideoURL(response.data.video.video);\n        setLoading(false);\n      } catch (error) {\n        if (error) {\n          console.log(error.response);\n        }\n      }\n    }; // Fetch Related videos\n\n\n    const fetchRelatedVideos = async () => {\n      try {\n        const response = await axios.get(`${api}user/home`, header);\n        setVideos(response.data.videos);\n        setLoading(false);\n      } catch (error) {\n        if (error) {\n          setLoading(false);\n        }\n      }\n    };\n\n    showVideo();\n    fetchRelatedVideos();\n  }, [id, name]);\n\n  const sliceName = name => {\n    if (name) {\n      return name.slice(0, 15);\n    }\n\n    return false;\n  }; // Add to Favourite List\n\n\n  const addFavourite = async id => {\n    const data = {\n      uId: localStorage.getItem('id'),\n      videoId: id\n    };\n\n    try {\n      setShow(true);\n      const response = await axios.post(`${api}user/video/favourite`, data, header);\n\n      if (response.status === 200) {\n        setShow(false);\n        toast.success(response.data.message);\n      }\n\n      if (response.status === 208) {\n        setShow(false);\n        toast.info(response.data.message);\n      }\n    } catch (error) {\n      if (error) {\n        setShow(false);\n        toast.warn(error.response.data.message);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    title: sliceName(name),\n    back: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: videoURL,\n    width: \"100%\",\n    height: \"100%\",\n    controls: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 p-0 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-box shadow-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 38\n    }\n  }, name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn shadow-none p-0\",\n    onClick: () => addFavourite(id),\n    disabled: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }, show ? /*#__PURE__*/React.createElement(\"img\", {\n    src: LoadingGif,\n    alt: \"...\",\n    style: {\n      width: 27,\n      height: 27\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 45\n    }\n  }) : /*#__PURE__*/React.createElement(Icon, {\n    icon: ic_favorite_border,\n    size: 27,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 47\n    }\n  })))))))), isLoading ? /*#__PURE__*/React.createElement(LoadingComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 26\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, videos.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 px-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(VideoList, {\n    videos: videos,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FourOFourComponent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  })))));\n};\n\nexport default Index;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/player/Index.js"],"names":["React","useEffect","useState","ReactPlayer","useParams","axios","api","Icon","ic_favorite_border","toast","Navbar","VideoList","LoadingComponent","FourOFourComponent","LoadingGif","configure","Index","id","name","show","setShow","videoURL","setVideoURL","isLoading","setLoading","videos","setVideos","showVideo","response","get","header","data","video","error","console","log","fetchRelatedVideos","sliceName","slice","addFavourite","uId","localStorage","getItem","videoId","post","status","success","message","info","warn","width","height","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../../styles/user/player/style.scss'\nimport ReactPlayer from 'react-player'\nimport { useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport api from '../../../utils/url'\nimport Icon from 'react-icons-kit'\nimport { ic_favorite_border } from 'react-icons-kit/md'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport Navbar from '../../../components/UserNavbar/Index'\nimport VideoList from '../../../components/VideoList/Index'\nimport LoadingComponent from '../../../components/Loading/Index'\nimport FourOFourComponent from '../../../components/FourOFour/Index'\n\nimport LoadingGif from '../../../assets/static/loading.gif'\n\ntoast.configure()\nconst Index = () => {\n    const { id, name } = useParams()\n    const [show, setShow] = useState(false)\n    const [videoURL, setVideoURL] = useState(null)\n    const [isLoading, setLoading] = useState(true)\n    const [videos, setVideos] = useState([])\n\n    useEffect(() => {\n\n        // Show Video\n        const showVideo = async () => {\n            try {\n                const response = await axios.get(`${api}user/video/${id}/show`, header)\n                setVideoURL(response.data.video.video)\n                setLoading(false)\n            } catch (error) {\n                if (error) {\n                    console.log(error.response)\n                }\n            }\n        }\n\n        // Fetch Related videos\n        const fetchRelatedVideos = async () => {\n            try {\n                const response = await axios.get(`${api}user/home`, header)\n                setVideos(response.data.videos)\n                setLoading(false)\n            } catch (error) {\n                if (error) {\n                    setLoading(false)\n                }\n            }\n        }\n\n        showVideo()\n        fetchRelatedVideos()\n    }, [id, name])\n\n    const sliceName = name => {\n        if (name) {\n            return name.slice(0, 15)\n        }\n        return false\n    }\n\n    // Add to Favourite List\n    const addFavourite = async (id) => {\n        const data = {\n            uId: localStorage.getItem('id'),\n            videoId: id\n        }\n\n        try {\n            setShow(true)\n            const response = await axios.post(`${api}user/video/favourite`, data, header)\n\n            if (response.status === 200) {\n                setShow(false)\n                toast.success(response.data.message)\n            }\n\n            if (response.status === 208) {\n                setShow(false)\n                toast.info(response.data.message)\n            }\n        } catch (error) {\n            if (error) {\n                setShow(false)\n                toast.warn(error.response.data.message)\n            }\n        }\n    }\n\n    return (\n        <div className=\"player\">\n            <Navbar title={sliceName(name)} back={true} />\n\n            <div className=\"container\">\n                <div className=\"row\">\n\n                    {/* Player */}\n                    <div className=\"col-12 p-0\">\n                        <ReactPlayer\n                            url={videoURL}\n                            width=\"100%\"\n                            height=\"100%\"\n                            controls={true}\n                        />\n                    </div>\n\n                    <div className=\"col-12 p-0 mb-2\">\n                        <div className=\"title-box shadow-sm\">\n                            <div className=\"d-flex\">\n                                <div><p>{name}</p></div>\n                                <div className=\"ml-auto\">\n                                    <button\n                                        type=\"button\"\n                                        className=\"btn shadow-none p-0\"\n                                        onClick={() => addFavourite(id)}\n                                        disabled={show}\n                                    >\n                                        {show ?\n                                            <img src={LoadingGif} alt=\"...\" style={{ width: 27, height: 27 }} />\n                                            : <Icon icon={ic_favorite_border} size={27} />}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n            {/* Related Videos */}\n            {isLoading ? <LoadingComponent /> :\n                <div className=\"container\">\n                    <div className=\"row\">\n                        {videos.length > 0 ?\n                            < div className=\"col-12 px-1\">\n                                <VideoList videos={videos} />\n                            </div>\n                            :\n                            <div className=\"col-12 p-4\">\n                                <FourOFourComponent />\n                            </div>\n                        }\n                    </div>\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}