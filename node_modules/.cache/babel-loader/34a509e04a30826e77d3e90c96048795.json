{"ast":null,"code":"import _regeneratorRuntime from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'../../../styles/user/upload-video/style.scss';import Icon from'react-icons-kit';import{useForm}from\"react-hook-form\";import{ic_cloud_upload}from'react-icons-kit/md';import axios from'axios';import url from'../../../utils/url';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Navbar from'../../../components/UserNavbar/Index';toast.configure();var Video=function Video(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedBanner=_useState4[0],setSelectedBanner=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),selectedVideo=_useState6[0],setSelectedVideo=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),categories=_useState8[0],setCategories=_useState8[1];var _useState9=useState({banner:null,video:null}),_useState10=_slicedToArray(_useState9,2),fileErr=_useState10[0],setFileErr=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),bannerPrev=_useState12[0],setBannerPrev=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),videoPrev=_useState14[0],setVideoPrev=_useState14[1];var header={headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}};useEffect(function(){// Fetch Categories\nvar fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(url,\"user/categories\"),header);case 3:response=_context.sent;setCategories(response.data);setLoading(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0){console.log(_context.t0.response);setLoading(false);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();fetchCategories();},[]);// Banner onChange\nvar bannerChangeHandeller=function bannerChangeHandeller(event){var file=event.target.files[0];if(file){setBannerPrev(URL.createObjectURL(file));setSelectedBanner(file);}};// Video onChange\nvar videoChangeHandeller=function videoChangeHandeller(event){var file=event.target.files[0];if(file&&file.size>7000000){setVideoPrev(null);setSelectedVideo(null);setFileErr({video:'Select less than 7 MB file'});}else{setVideoPrev(URL.createObjectURL(file));setSelectedVideo(file);}};var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var formData,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(selectedBanner){_context2.next=3;break;}return _context2.abrupt(\"return\",setFileErr({banner:'Banner is required'}));case 3:if(selectedVideo){_context2.next=5;break;}return _context2.abrupt(\"return\",setFileErr({video:'Video is required'}));case 5:setLoading(true);formData=new FormData();formData.append('user_id',localStorage.getItem('id'));formData.append('title',data.title);formData.append('category_id',data.category);formData.append('banner',selectedBanner);formData.append('video',selectedVideo);_context2.next=14;return axios.post(\"\".concat(url,\"user/video/store\"),formData,header);case 14:response=_context2.sent;if(response.status===200){setLoading(false);toast.success(response.data.message);}_context2.next=21;break;case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](0);if(_context2.t0){setLoading(false);console.log(_context2.t0.response);}case 21:case\"end\":return _context2.stop();}}},_callee2,null,[[0,18]]);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"upload\"},/*#__PURE__*/React.createElement(Navbar,{back:true,title:'Upload Video'}),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 px-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card border-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header p-3 text-center bg-white\"},/*#__PURE__*/React.createElement(Icon,{icon:ic_cloud_upload,size:40,style:{color:'#F4A261'}}),/*#__PURE__*/React.createElement(\"h6\",{className:\"mb-0\"},\"Upload Your Video\")),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body py-4 px-0\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},errors.title&&errors.title.message?/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},errors.title&&errors.title.message):/*#__PURE__*/React.createElement(\"small\",null,\"Video title\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"title\",className:\"form-control shadow-none rounded-0\",placeholder:\"Enter video title\",ref:register({required:\"Title is required\"})})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},errors.category&&errors.category.message?/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},errors.category&&errors.category.message):/*#__PURE__*/React.createElement(\"small\",null,\"Select category\"),/*#__PURE__*/React.createElement(\"select\",{name:\"category\",className:\"form-control shadow-none rounded-0 pl-2\",ref:register({required:\"Category is required\"})},categories&&categories.map(function(category,i){return/*#__PURE__*/React.createElement(\"option\",{value:category.id,key:i},category.name);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},fileErr&&fileErr.banner?/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},fileErr.banner):null,bannerPrev?/*#__PURE__*/React.createElement(\"img\",{src:bannerPrev,className:\"img-fluid\",alt:\"...\"}):null,/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"image\",className:\"inputfile\",accept:\"image/*\",onChange:bannerChangeHandeller}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"image\"},/*#__PURE__*/React.createElement(\"p\",null,\"Banner Image\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group mb-3\"},fileErr&&fileErr.video?/*#__PURE__*/React.createElement(\"small\",{className:\"text-danger\"},fileErr.video):null,videoPrev?/*#__PURE__*/React.createElement(\"div\",{className:\"embed-responsive embed-responsive-16by9 mb-2\"},/*#__PURE__*/React.createElement(\"iframe\",{className:\"embed-responsive-item\",title:videoPrev,src:videoPrev,allowFullScreen:true})):null,/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"video\",className:\"inputfile\",accept:\"video/*\",onChange:videoChangeHandeller}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"video\"},/*#__PURE__*/React.createElement(\"p\",null,\"Video file\"))),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-0 shadow-none text-white btn-block\"},\"Upload\"))))))),isLoading?/*#__PURE__*/React.createElement(\"div\",{className:\"upload-progress\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-center flex-column\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Uploading...\"),/*#__PURE__*/React.createElement(\"p\",null,\"Don't leave before complete.\"))):null);};export default Video;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/upload/Video.js"],"names":["React","useState","useEffect","Icon","useForm","ic_cloud_upload","axios","url","toast","Navbar","configure","Video","register","handleSubmit","errors","isLoading","setLoading","selectedBanner","setSelectedBanner","selectedVideo","setSelectedVideo","categories","setCategories","banner","video","fileErr","setFileErr","bannerPrev","setBannerPrev","videoPrev","setVideoPrev","header","headers","Authorization","localStorage","getItem","fetchCategories","get","response","data","console","log","bannerChangeHandeller","event","file","target","files","URL","createObjectURL","videoChangeHandeller","size","onSubmit","formData","FormData","append","title","category","post","status","success","message","color","required","map","i","id","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport '../../../styles/user/upload-video/style.scss'\nimport Icon from 'react-icons-kit'\nimport { useForm } from \"react-hook-form\"\nimport { ic_cloud_upload } from 'react-icons-kit/md'\nimport axios from 'axios'\nimport url from '../../../utils/url'\nimport { toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n\nimport Navbar from '../../../components/UserNavbar/Index'\n\ntoast.configure()\nconst Video = () => {\n    const { register, handleSubmit, errors } = useForm()\n    const [isLoading, setLoading] = useState(false)\n    const [selectedBanner, setSelectedBanner] = useState(null)\n    const [selectedVideo, setSelectedVideo] = useState(null)\n    const [categories, setCategories] = useState([])\n    const [fileErr, setFileErr] = useState({ banner: null, video: null })\n    const [bannerPrev, setBannerPrev] = useState(null)\n    const [videoPrev, setVideoPrev] = useState(null)\n\n    const header = {\n        headers:\n        {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n    }\n\n    useEffect(() => {\n        // Fetch Categories\n        const fetchCategories = async () => {\n            try {\n                const response = await axios.get(`${url}user/categories`, header)\n                setCategories(response.data)\n                setLoading(false)\n            } catch (error) {\n                if (error) {\n                    console.log(error.response)\n                    setLoading(false)\n                }\n            }\n        }\n\n        fetchCategories()\n    }, [])\n\n    // Banner onChange\n    const bannerChangeHandeller = event => {\n        let file = event.target.files[0]\n        if (file) {\n            setBannerPrev(URL.createObjectURL(file))\n            setSelectedBanner(file)\n        }\n    }\n\n    // Video onChange\n    const videoChangeHandeller = event => {\n        let file = event.target.files[0]\n        if (file && file.size > 7000000) {\n            setVideoPrev(null)\n            setSelectedVideo(null)\n            setFileErr({ video: 'Select less than 7 MB file' })\n        } else {\n            setVideoPrev(URL.createObjectURL(file))\n            setSelectedVideo(file)\n        }\n    }\n\n    const onSubmit = async (data) => {\n        try {\n            if (!selectedBanner) {\n                return setFileErr({ banner: 'Banner is required' })\n            }\n\n            if (!selectedVideo) {\n                return setFileErr({ video: 'Video is required' })\n            }\n\n            setLoading(true)\n            let formData = new FormData()\n            formData.append('user_id', localStorage.getItem('id'))\n            formData.append('title', data.title)\n            formData.append('category_id', data.category)\n            formData.append('banner', selectedBanner)\n            formData.append('video', selectedVideo)\n\n            const response = await axios.post(`${url}user/video/store`, formData, header)\n            if (response.status === 200) {\n                setLoading(false)\n                toast.success(response.data.message)\n            }\n        } catch (error) {\n            if (error) {\n                setLoading(false)\n                console.log(error.response)\n            }\n        }\n    }\n\n\n    return (\n        <div className=\"upload\">\n            <Navbar back={true} title={'Upload Video'} />\n            <div className=\"container-fluid py-3\">\n                <div className=\"row\">\n                    <div className=\"col-12 px-5\">\n                        <div className=\"card border-0\">\n                            <div className=\"card-header p-3 text-center bg-white\">\n                                <Icon icon={ic_cloud_upload} size={40} style={{ color: '#F4A261' }} />\n                                <h6 className=\"mb-0\">Upload Your Video</h6>\n                            </div>\n                            <div className=\"card-body py-4 px-0\">\n                                <form onSubmit={handleSubmit(onSubmit)}>\n                                    {/* Title */}\n                                    <div className=\"form-group mb-3\">\n                                        {errors.title && errors.title.message ? (\n                                            <small className=\"text-danger\">{errors.title && errors.title.message}</small>\n                                        ) : <small>Video title</small>\n                                        }\n\n                                        <input\n                                            type=\"text\"\n                                            name=\"title\"\n                                            className=\"form-control shadow-none rounded-0\"\n                                            placeholder=\"Enter video title\"\n                                            ref={register({\n                                                required: \"Title is required\",\n                                            })}\n                                        />\n                                    </div>\n\n                                    {/* Category */}\n                                    <div className=\"form-group mb-3\">\n                                        {errors.category && errors.category.message ? (\n                                            <small className=\"text-danger\">{errors.category && errors.category.message}</small>\n                                        ) : <small>Select category</small>\n                                        }\n\n                                        <select\n                                            name=\"category\"\n                                            className=\"form-control shadow-none rounded-0 pl-2\"\n                                            ref={register({\n                                                required: \"Category is required\",\n                                            })}\n                                        >\n                                            {categories && categories.map((category, i) =>\n                                                <option value={category.id} key={i}>{category.name}</option>\n                                            )}\n                                        </select>\n                                    </div>\n\n                                    {/* Banner Image */}\n                                    <div className=\"form-group mb-3\">\n                                        {fileErr && fileErr.banner ? (\n                                            <small className=\"text-danger\">{fileErr.banner}</small>\n                                        ) : null}\n\n                                        {bannerPrev ? <img src={bannerPrev} className=\"img-fluid\" alt=\"...\" /> : null}\n\n                                        <input\n                                            type=\"file\"\n                                            id=\"image\"\n                                            className=\"inputfile\"\n                                            accept=\"image/*\"\n                                            onChange={bannerChangeHandeller}\n                                        />\n                                        <label htmlFor=\"image\">\n                                            <p>Banner Image</p>\n                                        </label>\n                                    </div>\n\n                                    {/* Video */}\n                                    <div className=\"form-group mb-3\">\n                                        {fileErr && fileErr.video ? (\n                                            <small className=\"text-danger\">{fileErr.video}</small>\n                                        ) : null}\n\n                                        {videoPrev ?\n                                            <div className=\"embed-responsive embed-responsive-16by9 mb-2\">\n                                                <iframe className=\"embed-responsive-item\" title={videoPrev} src={videoPrev} allowFullScreen></iframe>\n                                            </div>\n                                            : null}\n\n                                        <input\n                                            type=\"file\"\n                                            id=\"video\"\n                                            className=\"inputfile\"\n                                            accept=\"video/*\"\n                                            onChange={videoChangeHandeller}\n                                        />\n                                        <label htmlFor=\"video\">\n                                            <p>Video file</p>\n                                        </label>\n                                    </div>\n\n                                    <button type=\"submit\" className=\"btn btn-primary rounded-0 shadow-none text-white btn-block\">Upload</button>\n\n\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {/* Uploading Progress */}\n            {isLoading ?\n                <div className=\"upload-progress\">\n                    <div className=\"flex-center flex-column\">\n                        <h6>Uploading...</h6>\n                        <p>Don't leave before complete.</p>\n                    </div>\n                </div>\n                : null}\n        </div>\n    );\n};\n\nexport default Video;"]},"metadata":{},"sourceType":"module"}