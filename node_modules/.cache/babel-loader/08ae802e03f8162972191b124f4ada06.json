{"ast":null,"code":"import _regeneratorRuntime from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/media/mamun/Tools/MERN/prime-bd/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import api from'../../../utils/url';import Navbar from'../../../components/UserNavbar/Index';import LoadingComponent from'../../../components/Loading/Index';import FourOFourComponent from'../../../components/FourOFour/Index';import AudioList from'../../../components/AudioList/Index';import Player from'../../../components/AudioPayler/Index';var Index=function Index(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),fourOFour=_useState4[0],setFourOFour=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),audios=_useState6[0],setAudios=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),song=_useState8[0],setSong=_useState8[1];var header={headers:{Authorization:\"Bearer \"+localStorage.getItem(\"token\")}};useEffect(function(){// Fecth Audios\nvar fetchAudios=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(api,\"user/audio\"),header);case 3:response=_context.sent;setAudios(response.data.audios);setLoading(false);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(_context.t0&&_context.t0.response.status===404){console.log(_context.t0.response);setLoading(false);setFourOFour(true);}case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchAudios(){return _ref.apply(this,arguments);};}();fetchAudios();},[]);// Play Audio\nvar playAudio=function playAudio(data){setSong(data);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navbar,{back:true,title:'Audio'}),fourOFour?/*#__PURE__*/React.createElement(FourOFourComponent,{messages:'Opps! Audio not found'}):null,isLoading?/*#__PURE__*/React.createElement(LoadingComponent,null):null,/*#__PURE__*/React.createElement(AudioList,{audios:audios,play:playAudio}),song?/*#__PURE__*/React.createElement(Player,{song:song}):null);};export default Index;","map":{"version":3,"sources":["/media/mamun/Tools/MERN/prime-bd/client/src/pages/user/Audio/Index.js"],"names":["React","useEffect","useState","axios","api","Navbar","LoadingComponent","FourOFourComponent","AudioList","Player","Index","isLoading","setLoading","fourOFour","setFourOFour","audios","setAudios","song","setSong","header","headers","Authorization","localStorage","getItem","fetchAudios","get","response","data","status","console","log","playAudio"],"mappings":"udAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sCAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,mCAA7B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,qCAA/B,CACA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,uCAAnB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,eACgBR,QAAQ,CAAC,IAAD,CADxB,wCACTS,SADS,eACEC,UADF,8BAEkBV,QAAQ,CAAC,KAAD,CAF1B,yCAETW,SAFS,eAEEC,YAFF,8BAGYZ,QAAQ,CAAC,EAAD,CAHpB,yCAGTa,MAHS,eAGDC,SAHC,8BAIQd,QAAQ,EAJhB,yCAITe,IAJS,eAIHC,OAJG,eAMhB,GAAMC,CAAAA,MAAM,CAAG,CACXC,OAAO,CACP,CACIC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAD/B,CAFW,CAAf,CAOAtB,SAAS,CAAC,UAAM,CACZ;AACA,GAAMuB,CAAAA,WAAW,0FAAG,sLAEWrB,CAAAA,KAAK,CAACsB,GAAN,WAAarB,GAAb,eAA8Be,MAA9B,CAFX,QAENO,QAFM,eAGZV,SAAS,CAACU,QAAQ,CAACC,IAAT,CAAcZ,MAAf,CAAT,CACAH,UAAU,CAAC,KAAD,CAAV,CAJY,+EAMZ,GAAI,aAAS,YAAMc,QAAN,CAAeE,MAAf,GAA0B,GAAvC,CAA4C,CACxCC,OAAO,CAACC,GAAR,CAAY,YAAMJ,QAAlB,EACAd,UAAU,CAAC,KAAD,CAAV,CACAE,YAAY,CAAC,IAAD,CAAZ,CACH,CAVW,oEAAH,kBAAXU,CAAAA,WAAW,0CAAjB,CAcAA,WAAW,GACd,CAjBQ,CAiBN,EAjBM,CAAT,CAmBA;AACA,GAAMO,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAJ,IAAI,CAAI,CACtBT,OAAO,CAACS,IAAD,CAAP,CACH,CAFD,CAIA,mBACI,4CACI,oBAAC,MAAD,EAAQ,IAAI,CAAE,IAAd,CAAoB,KAAK,CAAE,OAA3B,EADJ,CAEKd,SAAS,cAAG,oBAAC,kBAAD,EAAoB,QAAQ,CAAE,uBAA9B,EAAH,CAA+D,IAF7E,CAGKF,SAAS,cAAG,oBAAC,gBAAD,MAAH,CAA0B,IAHxC,cAII,oBAAC,SAAD,EAAW,MAAM,CAAEI,MAAnB,CAA2B,IAAI,CAAEgB,SAAjC,EAJJ,CAOKd,IAAI,cAAG,oBAAC,MAAD,EAAQ,IAAI,CAAEA,IAAd,EAAH,CAA4B,IAPrC,CADJ,CAYH,CAjDD,CAmDA,cAAeP,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport api from '../../../utils/url'\n\nimport Navbar from '../../../components/UserNavbar/Index'\nimport LoadingComponent from '../../../components/Loading/Index'\nimport FourOFourComponent from '../../../components/FourOFour/Index'\nimport AudioList from '../../../components/AudioList/Index'\nimport Player from '../../../components/AudioPayler/Index'\n\nconst Index = () => {\n    const [isLoading, setLoading] = useState(true)\n    const [fourOFour, setFourOFour] = useState(false)\n    const [audios, setAudios] = useState([])\n    const [song, setSong] = useState()\n\n    const header = {\n        headers:\n        {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\")\n        }\n    }\n\n    useEffect(() => {\n        // Fecth Audios\n        const fetchAudios = async () => {\n            try {\n                const response = await axios.get(`${api}user/audio`, header)\n                setAudios(response.data.audios)\n                setLoading(false)\n            } catch (error) {\n                if (error && error.response.status === 404) {\n                    console.log(error.response)\n                    setLoading(false)\n                    setFourOFour(true)\n                }\n            }\n        }\n\n        fetchAudios()\n    }, [])\n\n    // Play Audio\n    const playAudio = data => {\n        setSong(data)\n    }\n\n    return (\n        <div>\n            <Navbar back={true} title={'Audio'} />\n            {fourOFour ? <FourOFourComponent messages={'Opps! Audio not found'} /> : null}\n            {isLoading ? <LoadingComponent /> : null}\n            <AudioList audios={audios} play={playAudio} />\n\n            {/* Play Audio */}\n            {song ? <Player song={song} /> : null}\n\n        </div>\n    );\n};\n\nexport default Index;\n\n"]},"metadata":{},"sourceType":"module"}